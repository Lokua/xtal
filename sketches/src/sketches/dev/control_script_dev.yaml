# ------------------------------------------------------------------------------
#  Center Circle
# ------------------------------------------------------------------------------

bg_alpha:
  type: slider

# ------------------------------------------------------------------------------
#  Center Circle
# ------------------------------------------------------------------------------

center_section:
  type: separator

show_center_circle:
  type: checkbox
  default: true

center_radius:
  _var_test: &var_test 100.0
  type: slider
  range: [0.0, 500.0]
  default: *var_test

center_hue:
  type: slider
  default: 0.3

# ------------------------------------------------------------------------------
#  White Circle
# ------------------------------------------------------------------------------

white_circle_section:
  type: separator

show_white_circle:
  type: checkbox
  default: true

white_pos_x:
  type: osc
  range: [-1.0, 1.0]
  default: 0.0

white_pos_y:
  type: triangle
  beats: 2
  range: [-1, 1]

white_pos_y_map:
  type: effect
  kind: map
  domain: [-1, 1]
  range: [-2, 2]

white_pos_y_constrain:
  type: effect
  kind: constrain
  mode: wrap
  range: [-0.5, 0.5]

white_pos_y_mod:
  type: mod
  source: white_pos_y
  modulators:
    - white_pos_y_map
    - white_pos_y_constrain

white_radius:
  type: triangle
  beats: 8
  range: [5, 10]

white_radius_amt:
  type: slider

white_radius_folder:
  type: effect
  kind: wave_folder
  gain: 10.0
  symmetry: 1.5
  range: [10, 180]

white_radius_modulation:
  type: mod
  source: white_radius
  modulators:
    - white_radius_folder
    - white_radius_amt

# ------------------------------------------------------------------------------
#  Audio
# ------------------------------------------------------------------------------

audio_section:
  type: separator

show_audio:
  type: checkbox
  default: true

audio_rect_y:
  type: audio
  channel: 0
  slew: [0.2, 0.95]
  detect: 0.5
  pre: 0.0
  range: [0, 1]

# ------------------------------------------------------------------------------
#  Automate / Breakpoints
# ------------------------------------------------------------------------------

breakpoints_section:
  type: separator

show_breakpoints:
  type: checkbox
  default: true

breakpoints_line:
  _line_freq: &line_freq 1.0
  _line_amp: &line_amp 0.125
  type: automate
  breakpoints:
    - position: 0.0
      value: 0.25
      kind: step

    - position: 4.0
      value: 0.25
      kind: ramp

    - position: 8.0
      value: 0.75
      kind: ramp

    - position: 12.0
      value: 0.1
      kind: wave
      shape: sine
      frequency: *line_freq
      amplitude: *line_amp
      easing: linear
      constrain: clamp

    - position: 16.0
      value: 0.9
      kind: wave
      shape: sine
      freq: *line_freq
      amp: *line_amp
      easing: linear
      constrain: clamp

    - position: 20.0
      value: 0.0
      kind: random_smooth
      freq: *line_freq
      amp: *line_amp

    - position: 24.0
      value: 0.9
      kind: end

# ------------------------------------------------------------------------------
#  Red Ball
# ------------------------------------------------------------------------------

red_circle_section:
  type: separator

show_red_circle:
  type: checkbox
  default: true

red_circle_pos_x:
  type: automate
  breakpoints:
    - kind: ramp
      position: 0
      value: -1
      easing: ease_in
    - kind: ramp
      position: 4
      value: 1
    - kind: end
      position: 8
      value: -1

red_circle_radius:
  _red_val: &red_val 200
  _red_amp: &red_amp 150
  type: automate
  bypass: _
  mode: loop
  breakpoints:
    - kind: random
      position: 0.0
      value: *red_val
      amplitude: *red_amp
    - kind: random
      position: 1.0
      value: *red_val
      amplitude: *red_amp
    - kind: end
      position: 2.0
      value: *red_val

red_circle_radius_hyst:
  type: effect
  kind: hysteresis
  lower_threshold: 75
  upper_threshold: 125
  output_low: 50
  output_high: 200
  pass_through: true

red_circle_slew:
  type: slider

red_circle_radius_slew:
  type: effect
  kind: slew_limiter
  rise: $red_circle_slew
  fall: $red_circle_slew

red_circle_radius_quant:
  type: effect
  kind: quantizer
  step: 0.125

red_circle_radius_rm:
  type: effect
  kind: ring_modulator
  mix: 0.5
  modulator: rm_mod
  range: [10, 150]

rm_mod:
  type: triangle
  beats: 1.0
  range: [100, 200]

red_circle_radius_mods:
  type: mod
  source: red_circle_radius
  modulators:
    # - red_circle_radius_hyst
    - red_circle_radius_slew
    # - red_circle_radius_quant
    # - red_circle_radius_rm

# ------------------------------------------------------------------------------
#  Yellow Ball (MIDI)
# ------------------------------------------------------------------------------

midi_section:
  type: separator

show_midi_circle:
  type: checkbox
  default: false

midi_radius:
  type: midi
  channel: 0
  cc: 0
  range: [10, 400]

# ------------------------------------------------------------------------------
#  Black Circles (Random & RandomSlewed)
# ------------------------------------------------------------------------------

random_section:
  type: separator

show_random_section:
  type: checkbox
  default: false

random_size:
  type: random
  range: [10, 300]
  stem: 888

test_slew_pmod:
  type: triangle
  beats: 5

random_size_slewed:
  type: random_slewed
  range: [10, 300]
  # slew: $test_slew_pmod
  slew: 0.7
  stem: 999

# ------------------------------------------------------------------------------
#  Bias Test (random_slewed with bias)
# ------------------------------------------------------------------------------

bias_section:
  type: separator

show_bias_test:
  type: checkbox
  default: true

bias_amount:
  type: slider
  range: [-1, 1]
  default: 0

bias_0:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 300

bias_1:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 400

bias_2:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 500

bias_3:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 600

bias_4:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 700

bias_5:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 800

bias_6:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 900

bias_7:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  bias: $bias_amount
  stem: 100

# ------------------------------------------------------------------------------
#  RM (LIMEGREEN line)
# ------------------------------------------------------------------------------

rm_section:
  type: separator

show_rm:
  type: checkbox

rm_a:
  type: triangle
  beats: 4

rm_b:
  type: triangle
  beats: 3

rm_mix:
  type: slider

ring_modulator_example:
  type: effect
  kind: ring_modulator
  mix: $rm_mix
  modulator: rm_b

rm_route:
  type: mod
  source: rm_a
  modulators:
    - ring_modulator_example

# ------------------------------------------------------------------------------
#  Ramp (orange square)
# ------------------------------------------------------------------------------

ramp_section:
  type: separator

show_ramp:
  type: checkbox

ramp_phase:
  type: slider
  disabled: not show_ramp

ramp:
  type: ramp
  beats: 2
  phase: $ramp_phase

curve:
  type: slider
  range: [-1, 1]
  disabled: not show_ramp

ramp_curve:
  type: effect
  kind: math
  operator: curve
  operand: $curve

ramp_mod:
  type: mod
  source: ramp
  modulators:
    - ramp_curve

# ------------------------------------------------------------------------------
#  Curve Visualization
# ------------------------------------------------------------------------------

curve_viz_section:
  type: separator

show_curve_viz:
  type: checkbox
  default: true

curve_viz_amount:
  type: slider
  range: [-1, 1]

curve_viz_bias:
  type: effect
  kind: math
  operator: curve
  operand: $curve_viz_amount

cv_0:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 200

cv_1:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 201

cv_2:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 202

cv_3:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 203

cv_4:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 204

cv_5:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 205

cv_6:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 206

cv_7:
  type: random_slewed
  beats: 2
  range: [0.0, 1.0]
  slew: 0.5
  stem: 207

cv_0_mod:
  type: mod
  source: cv_0
  modulators:
    - curve_viz_bias

cv_1_mod:
  type: mod
  source: cv_1
  modulators:
    - curve_viz_bias

cv_2_mod:
  type: mod
  source: cv_2
  modulators:
    - curve_viz_bias

cv_3_mod:
  type: mod
  source: cv_3
  modulators:
    - curve_viz_bias

cv_4_mod:
  type: mod
  source: cv_4
  modulators:
    - curve_viz_bias

cv_5_mod:
  type: mod
  source: cv_5
  modulators:
    - curve_viz_bias

cv_6_mod:
  type: mod
  source: cv_6
  modulators:
    - curve_viz_bias

cv_7_mod:
  type: mod
  source: cv_7
  modulators:
    - curve_viz_bias

# ------------------------------------------------------------------------------
#  Round Robin
# ------------------------------------------------------------------------------

round_robin_section:
  type: separator

show_round_robin:
  type: checkbox
  default: true

rr_stepped:
  type: round_robin
  values: [0.0, 0.1, 0.8, 0.4, 0.2, 0.5, 0.1]
  beats: 2.0
  slew: 0.0
  stem: 500

rr_slewed:
  type: round_robin
  values: [0.0, 0.1, 0.8, 0.4, 0.2, 0.5, 0.1]
  beats: 2.0
  slew: 0.65
  stem: 501
